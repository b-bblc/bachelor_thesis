Вестник Санкт-Петербургского университета. 2005. Сер. 9, вып. 3  
В.Д Гусев} Л.А. Мирошниченко, Н.В. Саломатина (Новосибирск, Ин-т математики)  
ВЫЯВЛЕНИЕ АНОМАЛИЙ В РАСПРЕДЕЛЕНИИ ЛЕКСИЧЕСКИХ ЕДИНИЦ В ТЕКСТЕ*  
В работах по автоматическому индексированию и реферированию текстов часто
выделяют два этапа.1 Первый связан с предварительной сегментацией текста на
субтексты, называемые обычно суперсинтаксическими или сверхфразовыми
единствами, которые в общем случае могут не совпадать с единицами авторского
членения текста. На втором этапе из выделенных субтекстов извлекаются наиболее
информативные признаки (ключевые слова и словосочетания, отдельные фразы).  
В настоящей статье предлагается новый метод выделения сверхфразовых единств,
основанный на выявлении неравномерностей (аномалий) в распределении отдельных
лексических единиц по длине текста. Он может быть охарактеризован как
частотно-позиционный. Частота учитывается при отборе исходных лексических
единиц для последующего позиционного анализа (рассматриваются словоформы с
частотой [формула] , где пороговые значения [символ] и [символ] зависят от длины текста).
Собственно, позиционный анализ, традиционные схемы которого описаны С.И.
Гиндиным, в рамках нашей методики не привязан к внешней (задаваемой автором)
структуре текста. В основе лежит предположение о том, что слова,
демонстрирующие аномалии в позиционном распределении, обычно оказываются более
значимыми, чем распределенные равномерно (примером последних являются
служебные слова).  
В ходе позиционного анализа выделяются кластеры - области с аномально высокой
концентрацией отдельных лексических единиц. Для их обнаружения используется
аппарат сканирующих статистик в сочетании с имитационным моделированием,
позволяющим оценить значимость выявленной аномалии. Размеры кластеров
варьируют в широком диапазоне. Кластеры, образуемые разными лексическими
единицами, могут не пересекаться, частично пересекаться или быть вложенными
друг в друга. В последнем случае речь идет о группе лексических единиц,
тематически связанных друг с другом.  
Спектр структурных закономерностей, выделяемых с помощью сканирующих
статистик, не ограничен одними лишь кластерами. В частности, некоторые
закономерности носят характер своеобразных запретов на присутствие конкретной
словоформы в том или ином участке текста или запретов на чрезмерное сближение
(удаление) различных вхождений одной и той же словоформы в текст. Такого рода
нерегулярности повышают значимостный статус соответствующей словоформы.  
Методика выявления позиционных аномалий. Задача выявления неравно-мерностей
позиционного распределения отдельных словоформ текста сводится к изучению
различных схем расстановки точек на линии (каждую точку можно интерпретировать
как место вхождения анализируемой словоформы в текст). Простейшая постановка
выглядит так: пусть [символ] - случайный набор точек из единичного интервала  
(О, 1); требуется проверить гипотезу о равномерности (Н0) против альтернативы
(H1), связанной с тем или иным типом кластеризации. Одно из наиболее эффективных
решений этой задачи основано на использовании сканирующей статистики n(d),
фиксирующей максимальное число точек n, попавших в интервал длины d при
всевозможных расположениях этого интервала внутри единичного отрезка.
Статистика названа сканирующей, поскольку ее вычисление ведется путем подсчета
числа точек, попавших в окно ширины скользящее вдоль отрезка.  
Со статистикой n(d) тесно связана другая - n(d), фиксирующая длину минимального
интервала, содержащего ровно b точек ([символ]). Распределение
статистики n(d) при нулевой гипотезе получено исследователями и частично
затабулировано. Для отдельных случаев получены более простые аппроксимации.
Из чисто алгоритмических соображений мы используем статистику n(d) и
некоторые полезные ее модификации, уже не ориентированные непосредственно на
выявление кластеров.  
Пусть х - заданная цепочка текста (символ, словоформа или словосочетание), F(х)
- число ее вхождений в текст, n - фиксированное число последовательных
вхождений х в текст ([символ]). Рассмотрим следующие статистики:  
d1(n)* - длина минимального фрагмента текста, содержащего п вхождений
цепочки х (первый минимум);  
d2(n) - длина следующего по величине фрагмента, содержащего п вхождений
цепочки х (второй минимум); по определению ([символ]);  
D1(n) - длина максимального интервала, начинающегося и заканчивающегося
цепочкой х и содержащего ровно п вхождений этой цепочки (первый максимум);
D2(n) - второй максимум ([символ]);  
Р(n) - число фрагментов, на которых достигается минимум или максимум в любой
из предыдущих статистик;  
Dнач(х) (соответственно Dкон(х)) - длина максимального начального (конечного)
фрагмента, свободного от х.  
Заметим, что табулирование распределений рассматриваемых статистик при
гипотезе Н0 представляется достаточно трудоемким, к тому же для некоторых
статистик (например, для Р(n)) эти распределения неизвестны. В этой ситуации
для оценки значимости отклонений, вычисляемых на тексте статистик, от
значений, постулируемых гипотезой Н0 (равномерность), целесообразно прибегнуть
к имитационному моделированию. Схема выявления позиционных аномалий в
распределении лексических единиц по длине текста тогда выглядит следующим
образом.  
1. Проводим нормализацию словоформ текста и подсчитываем частоту
встречаемости каждой словоформы в нормализованном тексте (в простейшем случае
процедура нормализации может быть заменена отбрасыванием окончаний). Отбираем
слова (или основы слов), удовлетворяющие ограничениям по частоте.  
 2. Для каждого словах x с [символ] проводим перебор по всем
допустимым значениям n ([символ]). Для фиксированного n:  
а) вычисляем значения интересующих нас статистик в анализируемом тексте;  
б) с помощью имитационного моделирования для заданных N (длина текста), F(x) и
n оцениваем распределения этих статистик при гипотезе H0. С этой целью путем
многократного перемешивания исходного текста формируем m его рандомизированных
аналогов со случайным равномерным распределением слова х по длине текста
(приемлемым является диапазон значений m от 100 до 1000). По полученной
подборке вычисляем оценки минимального, максимального и среднего значений
каждой статистики (соответственно Smin, Smax и S), а также характеристики
разброса (среднеквадратичные отклонения S).  
3. Выявляем аномальные отклонения наблюдаемых на исходном тексте значений
статистик (SHa6n) от оценок, полученных в имитационном эксперименте. Считаем,
что аномалия имеет место, если выполняется условие  
[формула] (1) или [формула] (2).  
4. Выявленные позиционные аномалии интерпретируем в содержательных терминах.
В частности, если d1(n) аномально мало (см. условие (1)) при некотором не
слишком малом значении n (например, n>=5), имеет место кластеризация
словоформы х. Если D1(2) слишком велико (см. условие (2)), имеем гэп -
аномально длинный фрагмент текста, свободный от х. Если d1(2) аномально
велико, а D1(2) аномально мало, можно говорить о сверхравномерном
распределении словоформы x по тексту. Аномально малые значения D2(n) часто
(но не всегда) связаны с наличием изолированной точки в распределении
элементов х по тексту. Более детально классификация выявляемых позиционных
аномалий описана В.Д. Гусевым с соавторами.6  
Описание эксперимента. Анализировались два типа текстов: художественные
(принадлежащий Б. Заходеру перевод на русский язык известной книги Алана А.
Милна «WINNIE-the-РООН»; объем около 40 тыс. слов) и научные (выставленные в
Internet материалы конференции «Диалог'2002»; в частности, достаточно объемная
статья И. А. Секериной «Метод вызванных потенциалов мозга в американской
психолингвистике и его использование при решении проблемы порядка слов в
русском языке», объем свыше 12 тыс. слов). В первом случае (перевод Б.
Заходера) учет словоизменительной парадигмы проводился путем отбрасывания
окончаний. Нижний порог отбора по частоте (F^p) принимался равным 10. Во
втором случае (статья И.А. Секериной) использовалась процедура нормализации
(приведение к канонический форме), а значение [символ] выбиралось равным 5. Ограничений сверху на частоту анализируемой лексической единицы не вводилось, чтобы не отсечь, наряду с высокочастотными служебными и
общеупотребительными словами, наиболее частые тематически значимые слова.
Вместе с тем целесообразность введения таких ограничений очевидна хотя бы из
тех соображений, что в рандомизированных текстах высокочастотные слова с
большой вероятностью образуют тандемные вхождения, тогда как в реальном тексте такого рода события
маловероятны, вследствие чего любое высокочастотное слово будет
квалифицировано как имеющее аномалии в позиционном распределении.  
Поскольку размеры текстов и величины порогов были согласованы, число
отобранных для позиционного анализа словоформ в обоих текстах оказалось
близким (559 - у Б. Заходера и 519 - у И. А. Секериной). Значимые позиционные
аномалии продемонстрировали около 35 % отобранных словоформ в первом тексте и
около 40 % - во втором. Большая часть аномалий связана с кластеризацией
конкретных словоформ в определенном участке текста, следствием чего иногда
было появление «гэпов» и «разрежений» в оставшейся части текста.  
Каждый кластер характеризуется образующей его лексической единицей х,
позиционной привязкой, числом вхождений в него лексической единицы п и
линейным размером d(n). Последний задает общее число словоформ в выделенном
участке текста (кластере). Значимость кластера удобно определять безразмерной
величиной [формула], где [формула] - среднее расстояние между
вхождениями х в текст, a v(x) = d(n)/n - среднее внутрикластерное расстояние
между вхождениями х. Показатель [символ] следует использовать при не слишком
малых n (например, n >= 5); чтобы не придавать излишний вес тандемным
вхождениям лексической единицы, вероятность которых при неучете знаков
пунктуации довольно велика. Аналогичную характеристику [символ] можно ввести для
«гэпов» (А(х) = и(х) /(D(x) - 2), где D(x) - 2 - длина «гэпа»). Чем больше
[символ], тем выше значимость кластера, и чем меньше [символ], тем выше значимость
«гэпа».  
Имитационное моделирование показало, что кластеры со средним числом точек [символ],выделяемые как аномальные в соответствии с правилом (1),
характеризуются значениями [символ] порядка 5 и выше (т.е. плотность точек х
в кластере в 5 раз и более выше, чем в среднем по тексту). При n порядка 20 и
выше значимыми уже являются значения[символ] ~ 3-^-4. Подобного рода
приближенные соотношения позволяют заменить достаточно трудоемкое (в случае
длинных текстов) имитационное моделирование вычислением значения [символ] в
скользящем окне и сравнением его с порогом.  
Обсуждение результатов. Анализ позиционных аномалий позволяет сделать
следующие выводы.  
1. Существует множество механизмов, приводящих к кластеризации лексических
единиц определенного типа в той или иной части текста. Например, длинный
список англоязычной литературы в конце статьи И.А. Секериной является важным
источником терминологической лексики. Частота встречаемости многих терминов
превышает пороговое значение, вследствие чего они проявляют себя в русском
тексте как сильно кластеризованные элементы, расположенные в конце. Рисунки и
таблицы могут находиться в одной части текста (что имеет место в статье
Секериной), из-за чего кластеризованными оказываются слова типа «рисунок»,
«представленный» и др. Множество стихотворных вкраплений в переводе Б.
Заходера является богатым источником весьма неожиданных кластеризации {«Если
бы только, если бы только, если бы только нашему кролику росту прибавить хоть
малую толику!»). Число подобных примеров структурной кластеризации легко
увеличить.  
Однако основной механизм кластеризации связан с развитием сюжетно-тема-
тической линии. Так, изменение состава действующих лиц в отдельных главах и
эпизодах, смена окружающей обстановки (нора, река, лес ...), изменение целевой
установки  
(экспедиция, строительство жилья и т. п.), яркие события (день рождения,
наводнение) обычно проявляются наличием кластеров из тематически связанных
слов. Например, сцена с наводнением (гл. 9 из перевода Б. Заходера)
характеризуется кластеризацией таких лексических единиц, как «дождь», «лить»,
«вода», «плавать», «спасать», «корабль», «зонтик», «бутылка» и др.  
2. Наиболее информативными оказываются кластеры, представленные среднечас-
тотными словоформами. Такие словоформы обычно формируют единственный кластер,
включающий в себя большую часть вхождений данной словоформы в текст.
Высокочастотные тематически значимые словоформы часто образуют несколько
позиционно разнесенных кластеров с относительно небольшим числом точек я, но с
достаточно высоким значением показателя [символ]. Например, каноническая форма x
= «слово», встречающаяся в нормализованном варианте статьи И.А. Секериной F(x)
= 119 раз, образует два кластера с числом точек в каждом порядка 12 / 15 и
значениями [символ]. Первый из них покрывает два абзаца в разделе
«Восприятие слов и их составляющих», второй - половину абзаца в разделе «Смысл
и память». Высокочастотные служебные слова такого рода миникластеров с высоким
значением [символ], как правило, не образуют, хотя имеют достаточно протяженные
участки аномальных сгущений с большим числом точек, но невысоким значением [символ] ~ 1,5 2. Их интерпретация не столь очевидна.  
3. Большая часть слов, демонстрирующих аномалии в позиционном распределении,
относится к категории имен существительных и прилагательных. Последние обычно
входят в состав устойчивых словосочетаний: doctoral (dissertation), «правое»
(полушарие), «свободный» (порядок слов) и т.п. Некоторые устойчивые
словосочетания формально обнаруживаются по наличию налагающихся кластеров
одинакового размера, позиционная привязка которых отличается на единицу.
Например, канонические формы «программный» и «обеспечение» образуют кластеры с
параметрами n = 7, d1(n) = 600, [символ] = 12,3, но позиционная привязка первого
из них (х = «программный») равна 5838 (начало фрагмента), а второго (х =
«обеспечение») - 5839, что свидетельствует о наличии устойчивого сочетания:
«программное обеспечение». Отметим, что устойчивых словосочетаний в научном
тексте за счет терминологической лексики (статья И.А. Секериной) оказалось
гораздо больше, чем в художественном («Винни-Пух»).  
4. Попытка оценивания значимости слов только по частоте (отсеивание
высокочастотных словоформ) или функциональному назначению (отсеивание
служебных слов) наталкивается на многочисленные контрпримеры. В статье И.А.
Секериной, например, многие тематически значимые слова (предложение,
эксперимент, электрод, испытуемый и др.) относятся к разряду высокочастотных,
и их отсеивание по порогу было бы нежелательным. Задание же слишком высокого
порога делает процедуру фильтрации неэффективной: отсеивается слишком мало
слов. Компромисс может быть найден в установлении приемлемого порога, но с
дополнительной проверкой отсеиваемых слов на наличие позиционных аномалий.  
Аналогично обстоит дело с отсеиванием по функциональному назначению (списком).
Например, подлежащее устранению среднечастотное междометие «ага» в переводе Б.
Заходера неожиданно демонстрирует сильную кластеризацию. Объяснение состоит в
том, что в данном конкретном случае это слово используется не по прямому
назначению, а иносказательно, как планируемый вариант ответа на вопрос Кенги о
том, куда делся ее детеныш. Тем самым содержательный статус слова «ага» резко
повышается: оно становится значимым элементом плана похищения Крошки Ру, и
кластеризация отражает эту метаморфозу.  
5. Подавляющая часть ключевых слов и словосочетаний (а их в авторском списке
И.А. Секериной - 43, включая упоминавшиеся выше «электрод», «эксперимент»,
«испытуемый» и др.) показывает значимые позиционные аномалии. Исключение
составляют лишь слова и словосочетания, не преодолевшие нижнего порога по
частоте (например, «дисперсионный анализ»). Почти все аномалии связаны с
кластеризацией, лишь понятия, относящиеся к высокому уровню проблемно-
ориентированной иерархии («психолингвистика», «русский язык», «восприятие»),
характеризуются аномальными «разрежениями» (D(n) - аномально велико).  
6\. Из других типов позиционных аномалий, особенно характерных для
художественных текстов, отметим наличие «свободных (от х) концов» (D)нач(х)
и/или Dкон(х) аномально велики). Этот тип аномалий обусловлен тем, что не
все действующие лица вводятся в повествование одновременно и фигурируют в нем
до конца. Аномалий типа «сверхравномерное распределение» встречается немного,
но они важны, поскольку иногда играют роль «разделителей» на разных
иерархических уровнях. К примеру, в тексте Б. Заходера сверхравномерное
распределение демонстрирует слово «глава». Свойство сверхравномерности в
данном случае означает, что нет слишком коротких и длинных глав.  
Итак, в настоящей статье предложена методика выявления аномалий в
распределении слов, словосочетаний или связанных цепочек символов (в общем
случае) по длине текста. В ее основе лежит использование сканирующих статистик
и имитационного моделирования для оценки значимости наблюдаемых аномалий.
Проведена классификация основных типов аномалий. Эксперименты с
художественными и научными текстами показали, что элементарные языковые
единицы, демонстрирующие яркие позиционные аномалии, являются наиболее
значимыми в плане отражения содержания текста. Это может служить основанием
для широкого использования позиционной информации в задачах автоматического
индексирования и сегментации текстов, как слитных, типа ДНК и АМ-
последовательностей, так и с заданной структурой (естественные языки).  
1 Luhn Н.Р. The automatic creation of literature abstracts // IBM J. Research
and Development. 1958. Vol. 2. №2.  
2 Ibid.  
3 См. работу С.И. Гиндина.  
4 Naus J.L The distribution of the size of the maximum cluster of points on a
line // J. Amer. Statist. Assoc. 1965. Vol. 61. №310.  
5 Wallenstein S.R., Naus J.L Probabilities for a k-th nearest neighbor problem
on the line // Annals of Probability. 1973. Vol. 1. № 1.  
7 Гусев В.Д., Немытикова JI.А., Саломатина Н.В. Выявление аномалий в
распределении слов или связных цепочек символов по длине текста //
Интеллектуальный анализ данных. Вычислительные системы. Новосибирск, 2002.
Вып. 171.  
Статья поступила в редакцию 30 июня 2005 г.  

